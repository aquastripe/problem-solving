# 題解

題目：https://atcoder.jp/contests/abc319

## C

題目的意思是 Takahashi 以隨機的順序翻開隱藏格子，連成直線要翻開三格，如果前兩格是相同數字但第三格是不同數字就會很失望。而題目已經限定第三格必定是不同數字，因此只要判斷前兩格數字是否相同即可。輸出是不發生失望的機率，要計算 (不發生失望的情形/所有可能情形)。

以 sample input 1 為例：

```
3 1 9
2 5 6
2 7 1
```

背後的 index 也一起記下來：

```
0 1 2
3 4 5
6 7 8
```

組成 tuple 就變成 $(c_i, i)$，如下：

```
c = [(3, 0), (1, 1), (9, 2), (2, 3), (5, 4), (6, 5), (2, 6), (7, 7), (1, 8)]
```

接下來用 `itertools.permutations` 窮舉所有可能情形：

```python
for c_perm in permutations(c):
    for c_i, i in c_perm:
```

這時 `(c_i, i)` 按照看到的順序出現。接下來照這個順序，判斷如果呈現一直線就把 disappointed 加起來。

如何判斷可以呈現一直線？一直線的情況有以下八種：

```python
[[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]]
```

可以當作有 8 個 sets，當 index 落在其中一種 set 就加起來，例如 `0` 在 `[0, 1, 2]`, `[0, 3, 6]`, `[0, 4, 8]` 這三個出現，所以加進去這三個 sets 上頭。這裡可以用一個 list 存起來，這樣可以勉強壓在 2000 ms 內 AC。
